{% extends 'mridata/base.html' %}
{% load staticfiles %}

{% block body_block %}
<br>
<div class="col text-center align-middle">
  <div class="container alert alert-warning text-center">
    Please read the <a href="{% url 'terms' %}">Terms of Service</a> and make sure your datasets do not contain patient information before uploading!
  </div>
</div>

<div class="col text-center">
  <div class="card container">
    <form method="POST" class="form" enctype="multipart/form-data">
      {% csrf_token %}
      <br>
      <table class="table-sm">
        <tr>
          <th>Project Name:</th>
          <td>
	    {{ form.project_name }}
	  </td>
        </tr>
	
	<tr>
	  <th>
	    Anatomy:
	  </th>
	  <td id="default-options">
	    <select id="default-options-select">
	      <option value="Unknown">Unknown</option>
	      <option value="Abdomen">Abdomen</option>
	      <option value="Brain">Brain</option>
	      <option value="Breast">Breast</option>
	      <option value="Heart">Heart</option>
	      <option value="Kidney">Kidney</option>
	      <option value="Knee">Knee</option>
	      <option value="Liver">Liver</option>
	      <option value="Phantom">Phantom</option>
	      <option value="Spine">Spine</option>
	    </select> 
	  </td>
	  <td id="custom-option" style="display:none">
	    {{ form.anatomy }}
	  </td>
	  <td>
	    <input type="checkbox" id="custom-checkbox">
	    Custom
	  </td>
	</tr>

        <tr>
          <th>Fullysampled:</th>
          <td>
	    {{ form.fullysampled }}
	  </td>
        </tr>

        <tr>
          <th>References:</th>
          <td>
	    {{ form.references }}
	  </td>
        </tr>

        <tr>
          <th>Comments:</th>
          <td>
	    {{ form.comments }}
	  </td>
        </tr>
	
	{% include "mridata/upload_file.html" %}

        <tr>
          <th>Thumbnail Options:</th>
          <td>
	    <table class="table-sm text-center" align="center">
	      <tr>
		<td>
		  Horizontal flip:
		  {{ form.thumbnail_horizontal_flip }}
		</td>
		<td>
		  Vertical flip:
		  {{ form.thumbnail_vertical_flip }}
		</td>
	      </tr>
	      <tr>
		<td>
		  Transpose:
		  {{ form.thumbnail_transpose }}
		</td>
		<td>
		  FFT Shift along z:
		  {{ form.thumbnail_fftshift_along_z }}
		</td>
	      </tr>
	    </table>
	  </td>
        </tr>
      </table>
      <div class="text-center terms-container">
	<input type="checkbox" required>
	<label>I agree to the <a href="{% url 'terms' %}">Terms of Service</a></label>
      </div>
      <button type="submit" class="save btn btn-primary">Upload</button>
    </form>
    <br>
  </div>
</div>
{% endblock %}

{% block js_block %}
<script type="text/javascript" src="{% static 'js/upload.js' %}"></script>
<script src="{% static 'js/bootstrap-filestyle.min.js' %}"></script>
<script src="{% static 'js/bootstrap-uploadprogress.js' %}"></script>

<script>
  $(":file").filestyle({btnClass: "btn-primary"});
  $("form").uploadprogress({
    redirect_url: "/"
  });
</script>
{% endblock %}
