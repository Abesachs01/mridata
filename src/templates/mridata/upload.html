{% extends 'mridata/base.html' %}
{% load staticfiles %}

{% block body_block %}
<br>
<div class="col text-center align-middle">
  <div class="container alert alert-warning text-center">
    Please read the <a class="terms" href="#">Terms of Service</a> and make sure your datasets do not contain patient information before uploading!
  </div>
</div>

<div class="col text-center">
  <div class="card container">
    <form method="POST" class="form" enctype="multipart/form-data">
      {% csrf_token %}
      <table class="table">
	<tr>
	  <th>
	    Anatomy:
	  </th>
	  <td id="default-options">
	    <select id="default-options-select">
	      <option value="Unknown">Unknown</option>
	      <option value="Abdomen">Abdomen</option>
	      <option value="Brain">Brain</option>
	      <option value="Breast">Breast</option>
	      <option value="Heart">Heart</option>
	      <option value="Kidney">Kidney</option>
	      <option value="Knee">Knee</option>
	      <option value="Liver">Liver</option>
	      <option value="Phantom">Phantom</option>
	      <option value="Spine">Spine</option>
	    </select> 
	  </td>
	  <td id="custom-option" style="display:none">
	    {{ form.anatomy }}
	  </td>
	  <td>
	    <input type="checkbox" id="custom-checkbox">
	    Custom
	  </td>
	</tr>

        <tr>
          <th>Fullysampled:</th>
          <td>
	    {{ form.fullysampled }}
	  </td>
        </tr>

        <tr>
          <th>References:</th>
          <td>
	    {{ form.references }}
	  </td>
        </tr>

        <tr>
          <th>Comments:</th>
          <td>
	    {{ form.comments }}
	  </td>
        </tr>
	
	{% include "mridata/upload_file.html" %}
	
        <tr>
          <th>Thumbnail Transform:</th>
          <td>
	    Horizontal flip:
	    &nbsp;&nbsp;{{ form.thumbnail_horizontal_flip }}
	    &nbsp;&nbsp;Vertical flip:
	    &nbsp;&nbsp;{{ form.thumbnail_vertical_flip }}
	    &nbsp;&nbsp;Rotate 90 &deg;:
	    &nbsp;&nbsp;{{ form.thumbnail_rotate_90_degree }}
	  </td>
        </tr>
      </table>
      <div class="text-center terms-container">
	<input type="checkbox" required>
	<label>I agree to the <a class="terms" href="#">Terms of Service</a></label>
      </div>
      <button type="submit" class="save btn btn-primary">Upload</button>
    </form>
    <br>
  </div>
</div>
{% include "mridata/terms_modal.html" %}
{% endblock %}

{% block css_block %}
<link rel="stylesheet" href="{% static 'css/terms.css' %}" type="text/css" >
{% endblock %}

{% block js_block %}
<script type="text/javascript" src="{% static 'js/terms.js' %}"></script>
<script type="text/javascript" src="{% static 'js/upload.js' %}"></script>
<script src="{% static 'js/bootstrap-filestyle.min.js' %}"></script>
<script src="{% static 'js/bootstrap-uploadprogress.js' %}"></script>

<script>
  $(":file").filestyle({btnClass: "btn-primary"});
  $("form").uploadprogress({
    redirect_url: "/"
  });
</script>
{% endblock %}
