{% load staticfiles %}


<div class="row small align-items-center">
  <div class="col-3 text-center">
    <!-- <a data-toggle="collapse" href="#collapse{{ data.uuid }}"/> -->
    <img data-toggle="collapse"
    href="#collapse{{data.uuid}}"
    src=
	 {% if data.thumbnail_file %}
   "{{ data.thumbnail_file.url }}"
	 {% else %}
	 {% static "images/default_thumbnail.png" %}
	 {% endif %}
	 class=
	 {% if data.thumbnail_transpose %}
	 {% if data.thumbnail_horizontal_flip and data.thumbnail_vertical_flip %}
	 "rounded img-hor-vert-transpose"
	 {% elif not data.thumbnail_horizontal_flip and data.thumbnail_vertical_flip %}
	 "rounded img-vert-transpose"
	 {% elif data.thumbnail_horizontal_flip and not data.thumbnail_vertical_flip %}
	 "rounded img-hor-transpose"
	 {% else %}
	 "rounded img-transpose"
	 {% endif %}
	 {% else %}
	 {% if data.thumbnail_horizontal_flip and data.thumbnail_vertical_flip %}
	 "rounded img-hor-vert"
	 {% elif not data.thumbnail_horizontal_flip and data.thumbnail_vertical_flip %}
	 "rounded img-vert"
	 {% elif data.thumbnail_horizontal_flip and not data.thumbnail_vertical_flip %}
	 "rounded img-hor"
	 {% else %}
	 "rounded img"
	 {% endif %}
	 {% endif %}
	 >
  </div>
  <div class="col-9">
    <table class="table-sm">
      <tr>
	<td class="text-muted text-left" width="15%">
	  Project:
	</td>
	<td class="text-muted text-center">
	  {{ data.project.name }}
	</td>
      </tr>

      <tr>
	<td class="text-muted text-left" width="15%">
	  Anatomy:
	</td>
	<td class="text-muted text-center">
	  {{ data.anatomy }}
	</td>
      </tr>

    <tr>
	<td class="text-muted text-left" width="15%">
	  Fullysampled:
	</td>
	<td class="text-muted text-center">
	  {% if data.fullysampled is None %}
	  Unknown
	  {% elif data.fullysampled %}
	  Yes
	  {% else %}
	  No
	  {% endif %}
	</td>
      </tr>

      <tr>
	<td class="text-muted text-left" width="15%">
	  Uploader:
	</td>
	<td class="text-muted text-center">
	  {{ data.uploader }}
	</td>
      </tr>
      <tr>
  	<td class="text-muted text-left" width="15%">
  	  Tags:
  	</td>
    <!-- TODO: Insert all the tags associated with sample. -->
  	<td class="text-muted text-center">
      <!-- <link rel="stylesheet" type="text/css" href={% static "css/tags.css" %}> -->
      <!-- <script type="text/javascript" src={% static "js/tags.js" %}></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->

      <div id="add_tags" style="text-align: center" value={{ data.uuid }}>
        <form action="/tags">
        <input type="text" id="tag_input" name="tag" value="" placeholder="Add a tag"/>
        <input type="hidden" name="uuid" value="{{data.uuid}}" placeholder="" />
        <input type="submit" value="Add"/>
        </form>
      </div>
  	</td>
    <td>
      <div id="tags" style="text-align: center" >

        <link href="{% static 'css/tags_arrow.css' %}" rel="stylesheet">
          {% for tag in data.tags.all %}

              <li class="tag" id="clickMe" href="{% url 'tag_delete' uuid=data.uuid tag=tag %}"
              onclick="location.href = '{% url 'search_tag' tag=tag %}'; return true;"
              oncontextmenu=" if (confirm('Are you sure you want to delete?')) { location.href = '{% url 'tag_delete' uuid=data.uuid tag=tag %}'; return true; } else { return false; } ">
              {{tag}}
              </li>


          {% endfor %}
      </div>
      </td>
        </tr>
    </table>

    <div style="text-align: center" class="col-3 text-right" >
      <style>
        [data-toggle="collapse"].collapsed .if-not-collapsed {
          display: none;
        }
        [data-toggle="collapse"]:not(.collapsed) .if-collapsed {
          display: none;
        }
        i {
          border: solid black;
          border-width: 0 3px 3px 0;
          display: inline-block;
          padding: 3px;
        }

        .up {
          transform: rotate(-135deg);
          -webkit-transform: rotate(-135deg);
        }

        .down {
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
        }
      </style>
      <a class="right collapsed" data-toggle="collapse" href="#collapse{{data.uuid}}">
        <span class="if-collapsed"><i class="down"></i></span>
        <span class="if-not-collapsed"><i class="up"></i></span>
      </a>
    </div>
  </div>


</div>
